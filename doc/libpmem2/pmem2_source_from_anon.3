.\" Automatically generated by Pandoc 2.0.6
.\"
.TH "PMEM2_SOURCE_FROM_ANON" "3" "2021-09-24" "PMDK - pmem2 API version 1.0" "PMDK Programmer's Manual"
.hy
.\" SPDX-License-Identifier: BSD-3-Clause
.\" Copyright 2020, Intel Corporation
.SH NAME
.PP
\f[B]pmem2_source_from_anon\f[]() \- creates data source backed by
anonymous memory pages
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <libpmem2.h>

int\ pmem2_source_from_anon(struct\ pmem2_source\ **src,\ size_t\ size);
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[B]pmem2_source_from_anon\f[]() function instantiates a new
\f[I]struct pmem2_source\f[] object describing an anonymous data source.
Mappings created using this function are not backed by any file and are
zero\-initialized.
.PP
The \f[I]size\f[] argument for the function defines the length in bytes
of the anonymous source, as returned by \f[B]pmem2_source_size\f[](3).
The application should set this value so that it's greater than or equal
to the size of any mapping created with the anonymous source.
.PP
The offset value for mapping is ignored.
.SH RETURN VALUE
.PP
The \f[B]pmem2_source_from_anon\f[]() function returns 0 on success or a
negative error code on failure.
.SH ERRORS
.PP
The \f[B]pmem2_source_form_anon\f[]() can fail with the following
errors:
.IP \[bu] 2
\f[B]\-ENOMEM\f[] \- in case of insufficient memory to allocate an
instance of \f[I]struct pmem2_source\f[].
.SH SEE ALSO
.PP
\f[B]errno\f[](3), \f[B]pmem2_config_set_length\f[](3),
\f[B]pmem2_map_new\f[](3), \f[B]pmem2_source_size\f[](3),
\f[B]pmem2_config_set_length\f[](3), \f[B]libpmem2\f[](7) and
\f[B]<https://pmem.io>\f[]
