.\" Automatically generated by Pandoc 2.0.6
.\"
.TH "PMEMSET_DRAIN" "3" "2021-09-24" "PMDK - pmemset API version 1.0" "PMDK Programmer's Manual"
.hy
.\" SPDX-License-Identifier: BSD-3-Clause
.\" Copyright 2021, Intel Corporation
.SH NAME
.PP
\f[B]pmemset_drain\f[]() \- drain flushes
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <libpmemset.h>

int\ pmemset_drain(struct\ pmemset\ *set);
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[B]pmemset_drain\f[]() function efficiently draining flushes in
the range owned by \f[I]set\f[].
Each program that flushes discontiguous ranges using
\f[B]pmemset_flush\f[](3) should follow up them by calling
\f[B]pmemset_drain\f[]() to wait for drain hw buffers.
Calling \f[B]pmemset_drain\f[]() also guarantees proper ordering of the
flushed stores.
.RS
.PP
NOTE: For more detailed information about \f[I]granularity\f[] and
underlying drain operation please see \f[I]GRANULARITY\f[] section in
the \f[B]libpmem2\f[](7) man page.
.RE
.RS
.PP
NOTE: In the underlying implementation \f[B]pmemset_drain\f[]() uses
\f[I]pmem2_drain_fn\f[] returned by \f[B]pmemset_get_drain_fn\f[](3), so
all drain principles are identical for \f[B]pmemset_drain\f[]()
function, and you can find them in the \f[B]pmem2_get_drain_fn(3)\f[]
man page.
.RE
.SH RETURN VALUE
.PP
The \f[B]pmemset_drain\f[]() function always returns 0.
.SH SEE ALSO
.PP
\f[B]pmem2_get_drain_fn\f[](3), \f[B]pmemset_flush\f[](3),
\f[B]libpmemset\f[](7), \f[B]libpmem2\f[](7), and
\f[B]<https://pmem.io>\f[]
