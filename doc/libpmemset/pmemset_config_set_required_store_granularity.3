.\" Automatically generated by Pandoc 2.0.6
.\"
.TH "PMEMSET_CONFIG_SET_REQUIRED_STORE_GRANULARITY" "3" "2021-09-24" "PMDK - pmemset API version 1.0" "PMDK Programmer's Manual"
.hy
.\" SPDX-License-Identifier: BSD-3-Clause
.\" Copyright 2020-2021, Intel Corporation
.SH NAME
.PP
\f[B]pmemset_config_set_required_store_granularity\f[]() \- set
granularity required for pmemset structure.
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <libpmemset.h>

int\ pmemset_config_set_required_store_granularity(struct\ pmemset_config\ *cfg,
\ \ \ \ enum\ pmem2_granularity\ g);
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[B]pmemset_config_set_required_store_granularity\f[]() sets
maximum permitted granularity value \f[I]g\f[] requested for entire
pmemset object.
.PP
Each part has to have the same effective granularity of mapped parts \-
detected and initialized during \f[B]pmemset_part_map(3)\f[].
It means that the user cannot use \f[I]parts\f[] with a different
effective granularity within one \f[I]pmemset\f[].
To read effective granularity of the \f[I]pmemset\f[] after mapping the
first, use \f[B]pmemset_get_store_granularity\f[](3).
.PP
Regardless of the pmemset source type, the \f[B]libpmemset(7)\f[]
library uses \f[B]libpmem2(7)\f[] API to map parts.
.PP
For this reason, the granularity concept is also valid for
\f[B]libpmemset(7)\f[] functions, and granularity \f[I]g\f[] must be one
of the following values:
.IP \[bu] 2
\f[B]PMEM2_GRANULARITY_BYTE\f[]
.IP \[bu] 2
\f[B]PMEM2_GRANULARITY_CACHE_LINE\f[]
.IP \[bu] 2
\f[B]PMEM2_GRANULARITY_PAGE\f[]
.PP
For more information please read
\f[B]pmem2_config_set_required_store_granularity(3)\f[] man page and
section \f[B]GRANULARITY\f[] in the \f[B]libpmem2(7)\f[] man.
.SH RETURN VALUE
.PP
The \f[B]pmemset_config_set_required_store_granularity\f[]() function
returns 0 on success or a negative error code on failure.
.SH ERRORS
.PP
The \f[B]pmemset_config_set_required_store_granularity\f[]() can fail
with the following error:
.IP \[bu] 2
\f[B]PMEMSET_E_GRANULARITY_NOT_SUPPORTED\f[] \- granularity \f[I]g\f[]
is not a valid value.
.SH SEE ALSO
.PP
\f[B]pmem2_config_set_required_store_graularity\f[](3),
\f[B]pmemset_get_store_granularity\f[](3), \f[B]pmemset_part_map(3)\f[],
\f[B]libpmem2\f[](7), \f[B]libpmemset\f[](7) and
\f[B]<http://pmem.io>\f[]
